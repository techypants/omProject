<svg viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 28px sans-serif; fill: #1f2937; }
      .heading { font: bold 16px sans-serif; fill: #1f2937; }
      .text { font: 14px sans-serif; fill: #4b5563; }
      .small-text { font: 11px sans-serif; fill: #6b7280; }
      .box { fill: #ffffff; stroke: #9ca3af; stroke-width: 2; }
      .box-purple { fill: #f3e8ff; stroke: #a855f7; stroke-width: 3; }
    </style>
  </defs>

  <!-- Title -->
  <text x="500" y="40" class="title" text-anchor="middle">Diagram 2: State Management (The Brain)</text>
  <line x1="100" y1="50" x2="900" y2="50" stroke="#e5e7eb" stroke-width="2"/>

  <!-- Main container -->
  <rect x="50" y="80" width="900" height="470" rx="10" class="box-purple"/>
  <text x="500" y="110" class="heading" text-anchor="middle">React State Variables - These control everything!</text>

  <!-- Grid of state variables -->
  
  <!-- Row 1 -->
  <rect x="80" y="140" width="260" height="70" rx="5" class="box"/>
  <text x="95" y="165" class="heading">gameState</text>
  <text x="95" y="185" class="small-text">Current screen to show</text>
  <text x="95" y="200" class="text" fill="#3b82f6">Values: "menu" | "playing" | "report"</text>

  <rect x="370" y="140" width="260" height="70" rx="5" class="box"/>
  <text x="385" y="165" class="heading">questions[ ]</text>
  <text x="385" y="185" class="small-text">Array of math problems</text>
  <text x="385" y="200" class="text" fill="#3b82f6">Example: [{text: "5+3", answer: 8}]</text>

  <rect x="660" y="140" width="260" height="70" rx="5" class="box"/>
  <text x="675" y="165" class="heading">currentIndex</text>
  <text x="675" y="185" class="small-text">Which question user is on</text>
  <text x="675" y="200" class="text" fill="#3b82f6">Values: 0, 1, 2, 3...</text>

  <!-- Row 2 -->
  <rect x="80" y="230" width="260" height="70" rx="5" class="box"/>
  <text x="95" y="255" class="heading">input</text>
  <text x="95" y="275" class="small-text">What user typed as answer</text>
  <text x="95" y="290" class="text" fill="#3b82f6">Example: "42"</text>

  <rect x="370" y="230" width="260" height="70" rx="5" class="box"/>
  <text x="385" y="255" class="heading">timeLeft</text>
  <text x="385" y="275" class="small-text">Countdown timer seconds</text>
  <text x="385" y="290" class="text" fill="#3b82f6">Example: 15, 14, 13...</text>

  <rect x="660" y="230" width="260" height="70" rx="5" class="box"/>
  <text x="675" y="255" class="heading">profile</text>
  <text x="675" y="275" class="small-text">User progress data</text>
  <text x="675" y="290" class="text" fill="#3b82f6">{xp: 500, level: 3, badges: []}</text>

  <!-- Row 3 -->
  <rect x="80" y="320" width="260" height="70" rx="5" class="box"/>
  <text x="95" y="345" class="heading">history[ ]</text>
  <text x="95" y="365" class="small-text">Record of all answers in session</text>
  <text x="95" y="380" class="text" fill="#3b82f6">Tracks correct/wrong for each Q</text>

  <rect x="370" y="320" width="260" height="70" rx="5" class="box"/>
  <text x="385" y="345" class="heading">currentLevel</text>
  <text x="385" y="365" class="small-text">Selected difficulty level</text>
  <text x="385" y="380" class="text" fill="#3b82f6">Object with range, operations, etc</text>

  <rect x="660" y="320" width="260" height="70" rx="5" class="box"/>
  <text x="675" y="345" class="heading">theme</text>
  <text x="675" y="365" class="small-text">Visual theme selection</text>
  <text x="675" y="380" class="text" fill="#3b82f6">"normal" | "demonSlayer"</text>

  <!-- Row 4 -->
  <rect x="80" y="410" width="260" height="70" rx="5" class="box"/>
  <text x="95" y="435" class="heading">gameMode</text>
  <text x="95" y="455" class="small-text">Which mode user selected</text>
  <text x="95" y="470" class="text" fill="#3b82f6">"challenge" | "learning" | "zen"</text>

  <rect x="370" y="410" width="260" height="70" rx="5" class="box"/>
  <text x="385" y="435" class="heading">showHint</text>
  <text x="385" y="455" class="small-text">Display hint or not</text>
  <text x="385" y="470" class="text" fill="#3b82f6">true | false</text>

  <rect x="660" y="410" width="260" height="70" rx="5" class="box"/>
  <text x="675" y="435" class="heading">isRemediation</text>
  <text x="675" y="455" class="small-text">Focused weakness practice?</text>
  <text x="675" y="470" class="text" fill="#3b82f6">true | false</text>

  <!-- Bottom note -->
  <rect x="80" y="500" width="840" height="35" rx="5" fill="#faf5ff" stroke="#a855f7" stroke-width="2"/>
  <text x="500" y="523" class="text" text-anchor="middle" font-weight="bold" fill="#7c3aed">
    When ANY state changes, React automatically updates the screen!
  </text>
</svg>